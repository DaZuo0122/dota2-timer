# dota2-timer
A Tool Helps Dota2 Newbies Learn Timing Quickly. Written in Rust.

## Features
- üîä Non-blocking WAV audio playback
- üè∑Ô∏è Always-on-top window
- üéöÔ∏è Configurable through simple YAML files
- üïí Write timing strategies yourself

## How to Use

### Interface Controls
- **Start/Restart Button**:
    - First click: Starts 60s countdown
    - Subsequent clicks: Restarts timer from beginning
- **Pause/Resume Button**:
    - Available when timer is running/paused
    - Toggles timer state
- **Scroll down Selector**: Dropdown list of available strategy config files

### Writing Your Strategy
Create configuration files with `.yaml` extension in the application directory:
```yaml
audio:
  123: ./alert1.wav  # Triggers 2m3s after countdown
  456: C:\\full\\path\\alert2.wav
  789: relative/path/alert3.wav
```
**Format Requirements**:  
- `audio` section (required):
  - Key: Integer representing seconds from timer start (after countdown)
  - Value: Path to WAV file (relative or absolute)
- File encoding: UTF-8
- Supported formats: `.wav`

> **Note**: For complete and practical strategy config file, please download released binaries and see the example.  
> The audio files in the example were generated by [kokoro-onnx](https://github.com/thewh1teagle/kokoro-onnx).

## Install
### Pre-built Binaries
Download latest release from [GitHub Releases](https://github.com/DaZuo0122/dota2-timer/releases/)  
**Windows**:
1. Download `dota-timer-windows-x86_64.zip`
2. Extract zip file
3. Run `dota-timer.exe`

**Linux/macOS**:  
Currently does not have pre-built binaries, you need to build from source.


**System Requirements**:
- Windows 10+ (VC++ 2015 Redistributable)
- Linux: ALSA sound system (`libasound2-dev`)
- macOS: Core Audio
## Build from Source
**Prerequisites**:
- [Rust](https://www.rust-lang.org/tools/install) 1.80+
- Cargo
- Build dependencies:
```
# Ubuntu/Debian
sudo apt install build-essential libasound2-dev

# Fedora
sudo dnf install alsa-lib-devel
```
**Build Command**:
```
git clone https://github.com/DaZuo0122/dota2-timer.git
cd dota2-timer
cargo build --release
```
## Troubleshooting
**Audio Not Playing**:  
‚úÖ Verify audio file:  
- File exists at specified path
- Supported WAV format  
  ‚úÖ Check YAML syntax:  
- Correct indentation (spaces only)
- Numeric keys without quotes

**Timer Not Starting**:  
‚úÖ Ensure no special characters in YAML filename  
‚úÖ Try absolute paths in configuration  

**High CPU Usage**:  
‚úÖ Build with release profile: cargo build --release  
‚úÖ Reduce update frequency in code (modify subscription() interval)  

**Unexpected Crashes**:  
‚úÖ Check logs/dota-timer.log (auto-generated)  
‚úÖ Ensure VC++ Redistributable installed (Windows)  
‚úÖ [Report Issues](https://github.com/DaZuo0122/dota2-timer/issues)

## TODOs
- ‚èπÔ∏è Add pop-out text alert functionality
